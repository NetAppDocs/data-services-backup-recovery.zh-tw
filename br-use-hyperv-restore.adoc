---
sidebar: sidebar 
permalink: br-use-hyperv-restore.html 
keywords: restore, vm, virtual machine, snapshots, object storage, cloud storage, backing up, back up, backup, Amazon Web services, AWS, NetApp Backup and Recovery 
summary: 使用NetApp Backup and Recovery保護您的 Hyper-V 工作負載。 
---
= 使用NetApp Backup and Recovery復原 Hyper-V 工作負載
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
使用NetApp Backup and Recovery從快照、複製到輔助儲存的工作負載備份或儲存在物件儲存中的備份還原 Hyper-V 工作負載。

.從這些位置恢復
您可以從不同的起始位置恢復工作負載：

* 從主位置還原（本地快照）
* 從二級儲存上的複製資源恢復
* 從物件儲存備份還原


.恢復到這些點
您可以將資料還原到以下點：

* 恢復到原始位置


.從物件儲存中復原的注意事項
如果您選擇物件儲存中的備份文件，且該備份的勒索軟體保護處於活動狀態（如果您在備份策略中啟用了 DataLock 和勒索軟體復原），系統會提示您在復原資料之前對備份檔案執行額外的完整性檢查。我們建議您執行掃描。


TIP: 您將需要向雲端提供者支付額外的出口費用才能存取備份文件的內容。



== 恢復工作負載的工作原理

恢復工作負載時，會發生以下情況：

* 當您從本機備份檔案還原工作負載時， NetApp Backup and Recovery and Recovery會使用備份中的資料建立一個_新_資源。
* 從複製的工作負載復原時，您可以將工作負載還原到原始系統或本機ONTAP系統。


從「恢復」頁面（也稱為「搜尋和恢復」）*，您可以恢復資源，即使您不記得確切的名稱、它所在的位置或它最後處於良好狀態的日期。您可以使用過濾器搜尋快照。



== 從恢復選項恢復工作負載資料（搜尋和恢復）

使用復原選項恢復 Hyper-V 工作負載。您可以按名稱或使用篩選器來搜尋快照。

*所需的控制台角色* 備份和還原超級管理員或備份和還原復原管理員角色。 https://docs.netapp.com/us-en/console-setup-admin/reference-iam-predefined-roles.html["了解所有服務的NetApp Console存取角色"^] 。

.步驟
. 從NetApp Backup and Recovery選單中，選擇 *復原*。
. 從名稱搜尋欄位右側的下拉清單中，選擇 *Hyper-V*。
. 輸入要還原的資源的名稱，或篩選要還原的資源所在的 VM 名稱、VM 主機或儲存池。
+
出現符合您的搜尋條件的快照清單。

. 選擇要還原的快照的“*恢復*”按鈕。
+
出現可能的還原點清單。

. 選擇您想要使用的還原點。
. 選擇快照來源位置。
. 選擇「*完成*」或「*下一步*」繼續進入「恢復目標設定」頁面。
+
接下來，您可以選擇目標設定以及恢復前和恢復後選項。



[discrete]
===== 目的地選擇

. 選擇目標設定以及恢復前和恢復後選項。


[role="tabbed-block"]
====
.恢復到原始位置
--
. *啟用快速復原*：選擇此選項可執行快速復原作業。恢復的捲和資料將立即可用。請勿在需要高效能的磁碟區上使用此功能，因為在快速復原過程中，存取資料的速度可能會比平常慢。
. *預先恢復選項*：輸入應在復原作業之前執行的腳本的完整路徑以及該腳本所採用的任何參數。
. *恢復後選項*：
+
** *重新啟動 VM*：選擇此選項可在還原作業完成後以及套用還原後腳本後重新啟動 VM。
** *後記*：輸入恢復操作後應執行的腳本的完整路徑以及腳本所採用的任何參數。


. *通知*部分：
+
** *啟用電子郵件通知*：選擇此選項可接收有關復原作業的電子郵件通知，並指示您想要接收的通知類型。


. 選擇*恢復*。


--
.恢復至備用位置
--
不適用於 Hyper-V 工作負載預覽。

--
====
ifdef::aws[]

endif::aws[]

ifdef::azure[]

endif::azure[]

ifdef::gcp[]

endif::gcp[]

ifdef::aws[]

endif::aws[]

ifdef::azure[]

endif::azure[]

ifdef::gcp[]

endif::gcp[]
